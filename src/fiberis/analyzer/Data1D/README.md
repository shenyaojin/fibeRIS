# `fiberis.analyzer.Data1D`

This package provides tools for handling and analyzing one-dimensional time-series data, which is common in reservoir engineering for measurements like pressure, temperature, and flow rates from gauges or specific points.

## Core Component

### `core1D.py`: The `Data1D` Class

The `Data1D` class is the foundation for all 1D data analysis in `fibeRIS`. It provides a robust container for time-series data with the following key attributes:

-   `taxis`: A NumPy array representing the time axis in seconds, relative to `start_time`.
-   `data`: A NumPy array holding the data values.
-   `start_time`: A `datetime.datetime` object indicating the absolute start time of the recording.
-   `name`: An identifier for the dataset.
-   `history`: A logging system (`InfoManagementSystem`) that tracks all operations performed on the object.

**Key functionalities include:**

-   **I/O**: Loading data from and saving data to `.npz` files (`load_npz`, `savez`).
-   **Data Manipulation**: Cropping (`crop`, `select_time`), time-shifting (`shift`), merging (`right_merge`), and interpolating (`interpolate`) datasets.
-   **Data Access**: Retrieving values at specific times (`get_value_by_time`) and calculating absolute timestamps (`calculate_time`).
-   **Signal Processing**: Removing outlier spikes (`remove_abnormal_data`).
-   **Visualization**: A flexible `plot` method for creating time-series plots with options for absolute or relative time axes.

## Specialized Data Classes

Building on `Data1D`, this package includes specialized classes for common data types:

### `Data1D_Gauge.py`: `Data1DGauge`

-   **Inherits from**: `Data1D`
-   **Purpose**: Represents data from a single gauge (e.g., a pressure or temperature gauge).
-   **Additional Functionality**: Includes a placeholder method `calculate_pressure_dropdown` for future analysis specific to pressure data.

### `Data1D_PumpingCurve.py`: `Data1DPumpingCurve`

-   **Inherits from**: `Data1D`
-   **Purpose**: Tailored for handling pumping curve data (e.g., flow rate or slurry concentration over time).
-   **Additional Functionality**: Provides methods to automatically determine the start and end times of pumping operations (`get_start_time`, `get_end_time`).

### `Data1D_MOOSEps.py`: `Data1D_MOOSEps`

-   **Inherits from**: `Data1D`
-   **Purpose**: A specialized reader for post-processing results from the MOOSE framework. It is designed to read CSV files generated by MOOSE's `PointSampler` postprocessor.
-   **Key Feature**: The `read_csv` method automatically discovers the correct non-vector CSV file in a MOOSE output directory, reads the time-series data for a specified variable, and populates the `Data1D` object. This simplifies the process of bringing point-based simulation results into the `fibeRIS` analysis environment.

## Workflow

The typical workflow involves:
1.  Using a reader from `fiberis.io` or `Data1D_MOOSEps` to load data into one of the specialized `Data1D` classes.
2.  Applying methods from the `Data1D` base class to clean, align, and process the data (e.g., `crop`, `shift`, `interpolate`).
3.  Using the `plot` method to visualize the results.
4.  Saving the processed data object to a standard `.npz` file for easy reuse.
